{"ast":null,"code":"import React,{useState}from'react';import axios from'axios';import'./AddDevice.css';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const AddDevice=()=>{const[deviceId,setDeviceId]=useState('');const[createdBy,setCreatedBy]=useState('');const[response,setResponse]=useState('');const[isLoading,setIsLoading]=useState(false);const handleAddDevice=async e=>{e.preventDefault();if(!deviceId.trim()||!createdBy.trim()){setResponse('Device ID and Created By fields cannot be empty.');return;}setIsLoading(true);// Show loader or disable button\ntry{const result=await axios.post('http://localhost:5000/api/devices',{device_id:deviceId,created_by:createdBy});setResponse(result.data.message||'Device Added Successfully!');setDeviceId('');// Clear input field\nsetCreatedBy('');// Clear input field\n}catch(error){setResponse('Failed to Add Device! Please try again.');}finally{setIsLoading(false);// Hide loader or enable button\n}};return/*#__PURE__*/_jsxs(\"div\",{className:\"add-device-container\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Add Device\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleAddDevice,children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"deviceId\",children:\"Device ID:\"}),/*#__PURE__*/_jsx(\"input\",{id:\"deviceId\",type:\"text\",placeholder:\"Enter Unique Device ID\",value:deviceId,onChange:e=>setDeviceId(e.target.value),required:true})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"createdBy\",children:\"Created By:\"}),/*#__PURE__*/_jsx(\"input\",{id:\"createdBy\",type:\"text\",placeholder:\"Enter Your Name or ID\",value:createdBy,onChange:e=>setCreatedBy(e.target.value),required:true})]}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",disabled:isLoading,children:isLoading?'Adding...':'Add Device'})]}),response&&/*#__PURE__*/_jsx(\"p\",{className:\"response-message\",children:response})]});};export default AddDevice;","map":{"version":3,"names":["React","useState","axios","jsx","_jsx","jsxs","_jsxs","AddDevice","deviceId","setDeviceId","createdBy","setCreatedBy","response","setResponse","isLoading","setIsLoading","handleAddDevice","e","preventDefault","trim","result","post","device_id","created_by","data","message","error","className","children","onSubmit","htmlFor","id","type","placeholder","value","onChange","target","required","disabled"],"sources":["C:/nodejsproj/api-assignment/frontend/src/pages/AddDevice.js"],"sourcesContent":["import React, { useState } from 'react';\r\nimport axios from 'axios';\r\nimport './AddDevice.css';\r\n\r\nconst AddDevice = () => {\r\n  const [deviceId, setDeviceId] = useState('');\r\n  const [createdBy, setCreatedBy] = useState('');\r\n  const [response, setResponse] = useState('');\r\n  const [isLoading, setIsLoading] = useState(false);\r\n\r\n  const handleAddDevice = async (e) => {\r\n    e.preventDefault();\r\n\r\n    if (!deviceId.trim() || !createdBy.trim()) {\r\n      setResponse('Device ID and Created By fields cannot be empty.');\r\n      return;\r\n    }\r\n\r\n    setIsLoading(true); // Show loader or disable button\r\n    try {\r\n      const result = await axios.post('http://localhost:5000/api/devices', {\r\n        device_id: deviceId,\r\n        created_by: createdBy,\r\n      });\r\n      setResponse(result.data.message || 'Device Added Successfully!');\r\n      setDeviceId(''); // Clear input field\r\n      setCreatedBy(''); // Clear input field\r\n    } catch (error) {\r\n      setResponse('Failed to Add Device! Please try again.');\r\n    } finally {\r\n      setIsLoading(false); // Hide loader or enable button\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"add-device-container\">\r\n      <h2>Add Device</h2>\r\n      <form onSubmit={handleAddDevice}>\r\n        <div className=\"form-group\">\r\n          <label htmlFor=\"deviceId\">Device ID:</label>\r\n          <input\r\n            id=\"deviceId\"\r\n            type=\"text\"\r\n            placeholder=\"Enter Unique Device ID\"\r\n            value={deviceId}\r\n            onChange={(e) => setDeviceId(e.target.value)}\r\n            required\r\n          />\r\n        </div>\r\n        <div className=\"form-group\">\r\n          <label htmlFor=\"createdBy\">Created By:</label>\r\n          <input\r\n            id=\"createdBy\"\r\n            type=\"text\"\r\n            placeholder=\"Enter Your Name or ID\"\r\n            value={createdBy}\r\n            onChange={(e) => setCreatedBy(e.target.value)}\r\n            required\r\n          />\r\n        </div>\r\n        <button type=\"submit\" disabled={isLoading}>\r\n          {isLoading ? 'Adding...' : 'Add Device'}\r\n        </button>\r\n      </form>\r\n      {response && <p className=\"response-message\">{response}</p>}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default AddDevice;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}